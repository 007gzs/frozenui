<!DOCTYPE HTML>
<html lang="zh">
    <head>
        <meta charset="UTF-8">        
        <title>Frozen - 为移动端web而生</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="nico 0.5.1" />
       
        <link type="image/x-icon" href="http://frozenui.github.io/static/favicon.ico" rel="icon">
        <link rel="stylesheet" href="1.0.0/css-debug/global.css" />
        <link rel="stylesheet" href="http://frozenui.github.io/static/style.css" />
        <link rel="stylesheet" href="http://frozenui.github.io/static/solarized.css" />
        <style>
            .ui-btn-group, .ui-dialog,.ui-tips,.ui-notice{
                   position: relative;
                   margin: 0;
               }
            
            .ui-icon{font-size:30px;}
            .ui-table{line-height: 40px;} 
            .ui-dialog{height:320px;}
            body{
                -webkit-user-select: inherit;
            }
            
        </style>
        <script src="http://frozenui.github.io/static/sea-modules/seajs/seajs/2.2.1/sea.js"></script>
        <script src="http://frozenui.github.io/static/layout.js"></script>

        <script>
        
        seajs.config({
          base: "http://frozenui.github.io/static/sea-modules/",
          alias: {
            "$": "jquery/jquery/2.1.0/jquery.js",
            "sticky":"arale/sticky/1.3.1/sticky",
            "side":"http://frozenui.github.io/static/side"
          }
        })
        seajs.use(['sticky', 'side'], function(Sticky, side) {
            Sticky('.side-area', 20);
            side.init();
        });
        </script>
        <script src="http://frozenui.github.io/static/layout.js"></script>
    </head>
    <body>
        <div id="body-wrapper">
            <div class="head-area">
                <script type="text/javascript">
                    write_header();
                </script>

            </div>
            <div class="main-area">
                <div class="side-area">
                    <ul>
                        <li class="side-loading"><img width="160" alt="加载中..." src="/static/loading.gif"></li>
                    </ul>
                </div>    
                <script type="text/template" id="list-template">
                    <li><a href="#"></a></li>
                </script>
                <div class="content-area">
                    <h1>css组件库</h1>
                    <div class="content"><p>Frozen提供的UI组件是目前QQ会员前端开发组所用的通用样式库。遵循<a href="http://isux.oa.com/guide/mqq/vd#545">手Q样式规范</a>，基本样式使用离线包的方式减少请求，并提供快速接入的方案。</p>
<script type="text/template" id="alice-module">
    <div class="alice-module">
        <div class="alice-module-head">
            <h2 class="alice-module-title">
                <a href="#"></a>
            </h2>
            <span class="alice-module-version"></span>
            <p class="alice-module-description"></p>
        </div>
    </div>
</script>

<script type="text/template" id="alice-module-demo">
    <div class="alice-module-demo">
        <h3 class="alice-module-subtitle"></h3>
        <a class="alice-module-sourcecode" href="javascript:;">查看源码</a>
        <div class="alice-module-dom"></div>
        <pre class="alice-module-code"></pre>
    </div>
</script>

<style>

.alice-module {
    border-bottom: 1px solid #eee;    
    padding: 0;
    margin-top: 20px;
    margin-bottom: 50px;
}
.alice-module-head {
    overflow: hidden;
}
.alice-module-title {
    margin: 0;
    font-size: 28px;
    font-family: Trebuchet MS;
    display: inline;
}
.alice-module-title a {
    /*color: #7CAE23;*/
    color: #00a5e0;
    cursor: pointer;
}
.alice-module-link {
    font-size: 14px;
}
.alice-module-version {
    font-size: 12px;
    font-weight: normal;
    margin-left: 0.5em;
    color: #888;
    font-family: Menlo,Monaco,"Courier New",monospace;
}
p.alice-module-description {
    font-size: 14px;
    color: #888;
    margin: 10px 0 20px;
}
.alice-module-demo {
    border: 1px solid #eee;
    border-bottom: none;
    padding: 20px 10px 20px 20px;
    position: relative;
}
.alice-module-demo:hover {
    background: #fdfdfd;
}
.alice-module-dom {
    margin-bottom: 8px;
    font-size:14px;
}
.alice-module-code {
    display: none;
    margin: 0!important;
}
h3.alice-module-subtitle {
    margin: 0;
    color: #777;
    display: block;
    padding: 5px 0;
    opacity: 0.8;
    font-size:16px;
}
.alice-module-sourcecode {
    position: absolute;
    right: 5px;
    top: 0;
    font-size: 12px;
    padding: 5px 10px;
    background: #EFFFE4;
    border-radius: 3px;
    display: none;
    z-index: 99;
    opacity: 0.8;
}

.alice-loading {
    margin-bottom: 20px;
}
.black {
    font-size: 12px;
    padding: 2px;
    border-radius: 2px;
    background: rgba(0, 0, 0, 0.55);
    color: #fff;
}
</style>

<div class="alice-modules"></div>

<script type="text/javascript">
seajs.use(['$', 'gallery/underscore/1.6.0/underscore', 'arale/popup/1.1.6/popup'], function($, _, Popup) {

    $('.alice-modules').on('mouseenter', '.alice-module-demo', function() {
        $(this).find('.alice-module-sourcecode').fadeIn(200);
    }).on('mouseleave', '.alice-module-demo', function() {
        $(this).find('.alice-module-sourcecode').fadeOut(200);         
    });

    new Popup({
        trigger: '.alice-module-sourcecode',
        template: '<div class="black">源码在下方</div>',
        delay: -1,
        delegateNode: '.alice-modules'
    });

    $('.alice-modules').on('click', '.alice-module-sourcecode', function() {
        var code = $(this).parent().find('.alice-module-code');
        if (code.is(':hidden')) {
            code.animate({
                opacity: 1,
                height: 'toggle'
            }, 200);
        } else {
            code.animate({
                opacity: 0,
                height: 'toggle'
            }, 200);
        }
    });

    $.getJSON('../package.json', function(data) {
        var alias;
            alias = data.widgets;
        var deps = _.pairs(alias);
        _.each(deps, function(dep) {
            var moduleNode = $($('#alice-module').html());
            moduleNode.find('.alice-module-title a')
                .attr('href', 'docs/' + dep[1])
                .attr('id', 'modules-' + dep[1])
                .html(dep[1]);
            moduleNode.appendTo('.alice-modules');
            var list = substractTitle(moduleNode.find('h2'));

            $.ajax({
                url: 'docs/' + dep[1],
                dataType: 'html',
                success: function(data) {
                    data = $(data);
                    moduleNode.find('.alice-module-description')
                        .html(data.find('.entry-content > p:first-child').html());

                    data.find('.nico-insert-code').each(function(index, item) {
                        var demoNode = $($('#alice-module-demo').html());
                        item = $(item);
                        var subtitle = item.prev().html();
                        if (item.prev()[0].tagName !== 'H3' || !subtitle) {
                            subtitle = '默认';
                        }

                        demoNode.find('.alice-module-subtitle').html(subtitle);
                        demoNode.find('.alice-module-dom').html(item.html());

                        // 直接使用目标页面生成的高亮代码，不再动态渲染
                        var codeHtml = item.next('.highlight').find('pre').html();
                        demoNode.find('.alice-module-code').html(codeHtml);

                        moduleNode.find('.alice-loading').remove();
                        demoNode.appendTo(moduleNode);
                    });

                    // 中文关键词，一般放在 keywords 数组的第一个
                    // 在这里写到左边索引栏中
                    moduleNode.find('.alice-module-version')
                    var keywords = data.find('#sidebar-wrapper .keywords').html();
                    if (keywords) {
                        list.find('i').html(keywords);
                    }
                }
            });
        });
        seajs.use('/static/side', function(side) {
            side.init();        
        });        
    });

    function substractTitle(item) {
        $('.side-loading').remove();
        item = item.find('a');
        var list = $($('#list-template').html());
        list.find('a').html(item.html() + list.find('a').html());
        list.find('a').attr('href', '#' + item.attr('id'));
        list.appendTo('.side-area ul');
        return list;
    }

});
</script>

</div>
                </div>
                
            </div>
            <div class="footer-area">
                <script type="text/javascript">
                    write_footer();
                </script>
            </div>
        </div>
        
    </body>
</html>